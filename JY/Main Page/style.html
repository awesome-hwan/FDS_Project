<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./style.css">
    <title>Carousel</title>
</head>

<body>
    <div class="type-container">
        <span id="teletype" hidden></span>
    </div>
    <form class="hideaway">
        <input type="text" id="typer" value="당신의 하루 기분은 어땠나요?">
        <input type="submit" value="기분 입력하기">
    </form>
</body>

<script>
    const formEntry = document.getElementsByTagName("form")[0],
        cursor = "<span>|</span>";

    formEntry.addEventListener("submit", function(e) {
        e.preventDefault();
        typeIt();
    });

    function typeIt() {
        let counter = 0,
            typedLen = typer.value.length;
        teletype.innerHTML = cursor;
        // HTML의 hidden 속성을 제거하면서 보여짐
        teletype.removeAttribute("hidden");
        // 시간을 설정해주는 함수 추가
        var i = setInterval(function() {
            // 보여지는 부분에 input에 적은 내용을 글자를 쪼개서 보여줌
            // substr(start, length)함수 사용
            teletype.innerHTML = typer.value.substr(0, counter) + cursor;
            counter++;
            if (counter === typedLen + 1) {
                formEntry.classList.toggle("hideaway");
                clearInterval(i);
            }
        }, 100);
    }

    typeIt();
</script>

</html>